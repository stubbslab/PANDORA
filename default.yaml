# Configuration file for the Pandora system
# This file contains the default settings for the system components
# and their parameters.
database:
  type: "pandora.database.db.PandoraDatabase"
  # type: "pandora.database.calib_db.PandoraCalibrationDatabase"
  root: "/Users/pandora_ctrl/Documents/pandoraData/"

monochromator:
  type: "pandora.controller.monochromator.MonochromatorController"
  usb_port: "/dev/tty.usbserial-FTDI1CB2"
  baudrate: 9600
  # model: "Acton_SP2150"

labjack:
  ip_address: "169.254.84.89"
  timeout: 2
  flipShutter: "FIO00"
  flipSpecMount: "FIO1"
  flipOrderBlockFilter: "FIO2"
  flipOD2First: "FIO3"
  flipOD2Second: "FIO4"
  flipPD3: "FIO5"
  flipQuaterWavePlate: "FIO6"
  flipPD2: "FIO7"

keysights:
  type: "pandora.controller.keysight.KeysightController"
  # Each Keysight device with its own IP address
  K1:
    name: "k1"
    keysight_ip: "169.254.5.2"
    timeout_ms: 25000
    settings:
      mode: "CURR"
      rang: 'AUTO'
      nplc: 10.
      nsamples: 50
      delay: 0.
      interval: 2e-3
  K2:
    name: "k2"
    keysight_ip: "169.254.124.255"
    timeout_ms: 25000
    settings:
      mode: "CURR"
      rang: 'AUTO'
      nplc: 10.
      nsamples: 50
      delay: 0.
      interval: 2e-3

zaber_stages:
  type: "pandora.controller.zaberstages.zaberController"
  Z1: # ND Filter
    ip_address: "169.254.47.12"
    # ND filters map
    # The numbers refers to the zaber position in mm
    slot_map: {'ND05': 7, 
               'ND10': 46.37, 
               'ND15': 79.57, 
               'ND20': 113.57, 
               'CLEAR': 148.77}
    device: 0
    axis_id: 1
    # Zaber speed in mm/sec
    speed_mm_per_sec: 25
  Z2: # Focus
    ip_address: "169.254.50.12"
    device: 0
    axis_id: 1
    speed_mm_per_sec: 10
    # The focus position is given in mm
    # the focus position is very sensitive to positional changes
    slot_map: {'Focus': 50.8}
  Z3: # Pinhole Mask
    ip_address: "169.254.49.12"
    # Pinhole mask map
    # The numbers refers to the zaber position in mm
    # The pinhole mask is a 4-position wheel with the following configuration:
    # 1. 50 um pinhole (P50um)
    # 2. 100 um pinhole (P100um)
    # We do not have clear
    slot_map: {
               'P50um': 14.47, 
               'P100um': 45.94,
               }
    device: 0
    axis_id: 1
    speed_mm_per_sec: 10

spectrograph:
  type: "pandora.controller.stellarnet.SpectrographController"
  inttime: 1 # ms
  scan_avg: 10
  xtiming: 1 # 1/2 or 3 (low/mid or high resolution) 
  smooth: 1

logging:
  level: "INFO"
  logfile: "./pandora.log"
